{"version":3,"sources":["app/components/button.coffee","app/components/fibonacci.coffee","app/components/sidebar-view.coffee","app/components/storybar-view.coffee","app/config.js","app/configurations/basic.js","app/configurations/biblio.js","app/controllers/base/controller.coffee","app/controllers/footer.coffee","app/controllers/home.coffee","app/controllers/menu.coffee","app/controllers/page.coffee","app/initialize.coffee","app/lib/badass.coffee","app/lib/utils.coffee","app/models/base/collection.coffee","app/models/base/model.coffee","app/models/navigation.coffee","app/models/stories.coffee","app/models/story.coffee","app/models/user.coffee","app/routes.coffee","domains/stjohnsjim/payload-/js/script.js","domains/stjohnsjim/payload-/run-time-template.coffee"],"names":["monospace","baseColors","black","white","gray","midgray","blue","red","orange","green","colors","primary","secondary","default","info","success","warning","error","inverted","scale","fontSizes","zIndex","bold","borderRadius","borderColor","config","pureRender","module","exports","init","name","fontFamily","color","backgroundColor","Heading","Banner","minHeight","Label","opacity","Toolbar","require","augment","original","addition","_","reduce","key","value","sans","caps","textTransform","letterSpacing","biblio","Heading_alt","fontSize","boxShadow","borderBottom","Button","ButtonOutline","NavItem","PanelHeader","SequenceMap","Donut","Stat","Breadcrumbs","PageHeader","SectionHeader","$","$searchWrap","isSearchAnim","searchAnimDuration","startSearchAnim","stopSearchAnim","callback","setTimeout","on","addClass","focus","removeClass","e","stopPropagation","$this","url","attr","encodedUrl","encodeURIComponent","id","offset","length","box","hasClass","html","join","append","hide","css","top","left","select","preventDefault","window","open","href","Date","now","each","i","find","parent","alt","after","wrap","src","fancybox","$container","isMobileNavAnim","mobileNavAnimDuration","startMobileNavAnim","stopMobileNavAnim","toggleClass","jQuery"],"mappings":"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","file":"domains/stjohnsjim/public/assets/js/app.js","sourcesContent":["# vim: et:ts=2:sw=2:sts=2:nowrap\n\n$=require('jquery')\nT = Pylon.Halvalla\nB = require 'backbone'\n\n# The very model of a button interface\n#usage\n###\nDebugButton = new BV 'debug'\n# initialize with legend and enabled boolean\n# BV sets Pylon with the attribute 'button-name'\n#  NB. BV sets Pylon with event triggers like 'systemEvent:name:legend'\nDebugButton.set\n  legend: \"Show Log\"\n  enabled: true\n# when DebugButton is pressed, the legend above generates this event\nPylon.on \"systemEvent:debug:show-log\",() ->\n  DebugButton.set legend: \"Hide Log\"\n  $('#footer').show()\n  return false\n\n# when DebugButton is pressed, the legend 'Hide Log' above generates this event\nPylon.on \"systemEvent:debug:hide-log\", ()->\n  DebugButton.set legend: \"Show Log\"\n  $('#footer').hide()\n  return false\n$('#footer').hide()\nassert DebugButton == Pylon.get 'debug-button'\n###\n\nV = B.View.extend\n  tagName: \"button\"\n  initialize: (@model,@name,@classes)->\n    @model.on 'change:legend',@render,@\n    @model.on 'change:enabled',@render,@\n    @render()\n    return @\n  render: ->\n    m = @model\n    if m.get 'enabled'\n      visual = T.render =>\n         T.button \"##{@name}.#{@classes}.button-primary\",@.model.get 'legend'\n    else\n      visual = T.render =>\n         T.button \"##{@name}.#{@classes}.disabled\",\n           disabled: \"disabled\",\n           @.model.get 'legend'\n    newVisual = $(visual)\n    if (old = @$el)\n      @setElement newVisual\n      old.replaceWith newVisual\n    return this\n  events:\n    click: ->\n      Pylon.trigger \"systemEvent:\"+@model.get 'trigger' if @model.get 'enabled'\n\nmodule.exports = B.Model.extend\n  defaults:\n    legend: \"disabled\"\n    enabled: false\n  setTrigger: ->\n    trigger = @get 'legend'\n    @set 'trigger', \"#{@name}:#{ trigger.replace(/ /g,'-').toLocaleLowerCase() }\"\n  initialize: (@name,classes=\"three.columns\")->\n    Pylon.set \"button-#{@name}\",@\n    @setTrigger()\n    @on \"change:legend\", @setTrigger, @\n    @view = new V @, @name, classes\n    @view.setElement $ \"##{@name}\"\n    @on \"change:enabled\", @view.render, @view\n\n    return @","T = Pylon.Halvalla\nB = require 'backbone'\n#{  Panel, PanelHeader, Link } = Pylon.Rebass\n  \n#Panel = T.bless Panel\n#Link = T.bless Link\n#PanelHeader = T.bless PanelHeader\n\n\nmodule.exports =  T.bless class Fibonacci extends B.Model\n  displayName: 'Fibonacci'\n  \n  rollSquare =(a,b)->\n    (a>>b)&1\n  \n  ratioToPixels = (xRaw,yRaw)->\n    console.log \"Ratio x,y=\",xRaw,yRaw\n    console.log \"Ratio = \", (xRaw/yRaw+yRaw/xRaw) \n    return null if (xRaw/yRaw+yRaw/xRaw) > 2.4\n    xRaw=Math.floor xRaw\n    yRaw=Math.floor yRaw\n    return \n      x: xRaw\n      xpx: (xRaw)+'px'\n      y: yRaw\n      ypx: (yRaw)+'px'\n      \n  Lozenge = (n,x,y)->\n    shrink = Math.pow 0.618033 , n\n    return T.div \"#last.bg-red.n-#{n}.left\",width:x,height:y,style: {minWidth:x+\"px\", minHeight:y+\"px\"} unless px=ratioToPixels x,y\n    {x,y,xpx,ypx} = px\n    if x>y\n      lx = Math.floor x-y\n      T.div  \".h-lozenge.left\",width:xpx, height:ypx, style: {width:xpx, height:ypx}, ->\n        if rollSquare hexagramNumber,n\n          Lozenge n+1, lx,y \n          T.div squareOptions[n].classNames,  width:ypx,height:ypx, style: {backgroundColor:squareOptions[n].color,width:ypx,height:ypx}, ->\n            T.div style: {WebkitTransformOrigin:'top left', WebkitTransform:\"scale(#{shrink})\",width:'711px',height:'711px'}, ->\n              T.div \"#sq-#{n}\",onclick:\"swap(#{n})\",->\n                squareOptions[n].src\n        else\n          T.div squareOptions[n].classNames, width:ypx,height:ypx, style: {backgroundColor:squareOptions[n].color,width:ypx,height:ypx}, ->\n            T.div style: {WebkitTransformOrigin:'top left', WebkitTransform:\"scale(#{shrink})\",width:'711px',height:'711px'}, ->\n              T.div \"#sq-#{n}\",onclick:\"swap(#{n})\",->\n                squareOptions[n].src\n          Lozenge n+1, lx,y \n    else\n      ly = Math.floor y-x\n      T.div  \".v-lozenge.left\",width:xpx, height:ypx, style: {width:xpx, height:ypx}, ->\n        if rollSquare hexagramNumber,n\n          T.div squareOptions[n].classNames, width:xpx,height:xpx, style: {backgroundColor:squareOptions[n].color,width:xpx,height:xpx}, ->\n            T.div style: {WebkitTransformOrigin:'top left', WebkitTransform:\"scale(#{shrink})\",width:'711px',height:'711px'}, ->\n              T.div \"#sq-#{n}\",onclick:\"swap(#{n})\",->\n                squareOptions[n].src\n          Lozenge n+1, x,ly \n        else\n          Lozenge n+1, x,ly \n          T.div squareOptions[n].classNames, width:xpx,height:xpx, style: {backgroundColor:squareOptions[n].color,width:xpx,height:xpx}, ->\n            T.div style: {WebkitTransformOrigin:'top left', WebkitTransform:\"scale(#{shrink})\",width:'711px',height:'711px'}, ->\n              T.div \"#sq-#{n}\",onclick:\"swap(#{n})\",->\n                squareOptions[n].src\n                \n  view: (vnode)=>\n    collection = vnode.attrs.collection\n    filter = vnode.attrs.filter || ()->true\n    intermediate = collection.filter filter,@\n    data = _(intermediate).sortBy( (s)->\n      s.get 'category').groupBy (s) -> s.get 'category'\n  \n    teacupContent = Lozenge 0,x,y\n    return teacupContent\n","T = Pylon.Halvalla\nB = require 'backbone'\n#Panel = T.bless Panel\n#Link = T.bless Link\n#PanelHeader = T.bless PanelHeader\ntemplate = require \"payload-/run-time-template.coffee\"\n\nsideStuff = class Sidebar extends B.Model\n  constructor:()->\n    super()\n    return\n  displayName: 'Sidebar'\n  clickHandler:(e)=>\n    targ = e.currentTarget.parentNode.childNodes[1]\n    if \"true\" == targ.getAttribute \"aria-expanded\"\n      targ.setAttribute 'aria-expanded', false\n      targ.setAttribute 'hidden',\"hidden\"\n    else\n      targ.setAttribute 'aria-expanded', 'true'\n      targ.removeAttribute 'hidden'\n    return\n    \n  view: (vnode)=>\n    collection = vnode.collection\n    filter = vnode.filter || ()->true\n    intermediate = collection.filter filter,@\n    data = _.sortBy( intermediate, (s)-> s.get 'category')\n    data = _.groupBy( data, (s)-> s.get 'category')\n  \n    teacupContent = template.widgetWrap  title: \"Contents\", =>\n      result= _.each data, (allCrap,category,stuff)=>\n        return if category =='-'\n        stories = stuff[category]\n        catPostfix = category.match /\\/?[^\\/]+$/\n        catPrefix = category.replace /[^\\/]/g,''\n        catPrefix = catPrefix.replace /\\//g, ' -'\n        catPostfix = catPostfix.toString().replace /\\//g, '- '\n        headliner = _(stories).find (story)=> #find index for this category\n          autoExpand = Object.keys(stuff).length <4  #start with open if number of elements in this category is small\n          attrX =\n            'aria-expanded':autoExpand\n            onclick:\n              @clickHandler\n            role:\n              'heading'\n          T.div '.btn-group.btn-group-vertical', =>\n            if headliner\n              T.button \".btn.btn-group.btn-outline-light.btn-block\", attrX, =>T.h5 '', =>\n                T.text \"#{category}: \"\n                T.em \".h6\", _.sample headliner.get 'headlines'\n            else\n              T.button \".btn.btn-group.btn-outline-light.btn-block\", attrX, => T.h6 '', \"#{catPrefix} #{catPostfix}\"\n            attrY =\n              'aria-expanded':autoExpand\n            attrY.hidden='hidden' unless autoExpand\n\n            T.section \".pr1.btn-group.btn-outline-light\", attrY,=>\n              T.ul \".my-2\",=>\n                _(stuff[category]).each (story) =>\n                  return if 'category' == story.get 'className'\n                  T.li \"\", =>\n                    T.a \"\",\n                      'color': 'white'\n                      #bg: 'gray.8'\n                      href: if siteHandle == story.get 'siteHandle'\n                        story.href()\n                      else\n                        story.href story.get 'siteHandle'\n                      \"#{story.get 'title'}\"\n  \n      return T.text \"No Stories\" unless result\n    return teacupContent\nss=new sideStuff()\nmodule.exports =  T.bless sideStuff\nmodule.exports= ss.view\n\n","# put outbound links into story\n\nT = Pylon.Halvalla\nB = require 'backbone'\n\nsiteBase = topDomain.split '.'\nz=siteBase.shift()\n\nmodule.exports = T.bless class Storybar \n  displayName: 'Storybar'\n  \n  view: (vnode)=>\n    collection = vnode.attrs.collection\n    filter = vnode.attrs.filter || ()->true\n    intermediate = collection.filter filter,@\n    story = null\n    until story\n      story = _.sample intermediate\n      return null unless story\n      badClass = 'category' == story.get 'className'\n      badHeadline = (story.get 'headlines') < 1\n      story = null if badClass || badHeadline\n    try\n      storyFrom = story.get('site')\n    catch error\n      console.log \"Ailing Story\",story\n      return null\n    siteBase = topDomain.split '.'\n    siteBase.shift()\n    siteBase.unshift storyFrom\n  \n    return T.div \".c-card\",->\n      T.div \".c-card__item.bg-silver\",->\n        T.a \".c-link.c-link--brand\",href: (story.href 'http://'+siteBase.join '.'),-> \n          T.div ->\n            T.h4 ->\n              T.raw \"From Around the Web: \"\n              T.span \".u-text--quiet.u-text--highlight\",\"#{story.get 'title'}: #{(_.sample story.get 'headlines')||''}\"\n","const monospace = '\"Roboto Mono\", Menlo, Consolas, monospace'\n\nconst baseColors = {\n  black: '#111',\n  white: '#fff',\n  gray: '#ddd',\n  midgray: '#888',\n  blue: '#08e',\n  red: '#f52',\n  orange: '#f70',\n  green: '#1c7'\n}\n\nconst colors = {\n  black: '#111',\n  white: '#fff',\n  gray: '#ddd',\n  midgray: '#888',\n  blue: '#08e',\n  red: '#f52',\n  orange: '#f70',\n  green: '#1c7'  /* ...baseColors*/,\n  \n  primary: baseColors.blue,\n  secondary: baseColors.midgray,\n  default: baseColors.black,\n  info: baseColors.blue,\n  success: baseColors.green,\n  warning: baseColors.orange,\n  error: baseColors.red\n}\n\nconst inverted = colors.white\n\nconst scale = [\n  0,\n  8,\n  16,\n  32,\n  64\n]\n\nconst fontSizes = [\n  48,\n  32,\n  24,\n  20,\n  16,\n  14,\n  12\n]\n\nconst zIndex = [\n  0,\n  2,\n  4,\n  8,\n  16\n]\n\nconst bold = 600\nconst borderRadius = 2\nconst borderColor = 'rgba(0, 0, 0, .25)'\n\nconst config = {\n  scale,\n  fontSizes,\n  bold,\n  monospace,\n  zIndex,\n  colors,\n  inverted,\n  borderRadius,\n  borderColor,\n  pureRender: true\n}\n\nmodule.exports = config\n\n","\nconst init = {\n  name: 'Basic',\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif',\n  color: '#111',\n  backgroundColor: '#fff',\n\n  Heading: {\n    fontFamily: 'inherit'\n  },\n  Banner: {\n    minHeight: '80vh',\n  },\n  Label: {\n    opacity: .875\n  },\n  Toolbar: {\n    opacity: .875\n  }\n}\n\nmodule.exports = init\n\n","\nconst config = require('config');\n\nfunction augment(original,addition) {\n  _(addition).reduce(original,function(key,value,original){\n    original[key]=value;\n    return original;\n  });\n}\n\nconst sans = {\n  fontFamily: 'Roboto, sans-serif'\n}\n\nconst caps = {\n  textTransform: 'uppercase',\n  letterSpacing: '.1em'\n}\n\nconst colors = {\n    red: '#e54',\n    blue: '#059',\n    green: '#0b7',\n    midgray: '#444',\n    gray: '#eee'\n}\n\nconst biblio = {\n  name: 'Biblio',\n  fontFamily: 'Palatino, Georgia, serif',\n  color: '#111',\n  backgroundColor: '#fff',\n\n  colors: augment(augment({\n    primary: colors.red,\n    error: colors.red,\n    info: colors.blue,\n    success: colors.green,\n    secondary: colors.midgray\n  }, config.colors),colors),\n\n  borderColor: `rgba(0, 0, 0, ${1/8})`,\n\n  scale: [\n    0, 12, 24, 48, 96\n  ],\n\n  fontSizes: [\n    72, 64, 48, 32, 18, 16, 14\n  ],\n\n  bold: 500,\n\n  Heading_alt: augment(augment({\n    opacity: 1,\n    fontSize: 14,\n    color: colors.red\n  },sans),caps),\n\n  Banner: {\n    backgroundColor: '#f6fee6',\n    // backgroundImage: 'none',\n    boxShadow: 'inset 0 0 320px 0 rgba(128, 64, 0, .5), inset 0 0 0 99999px rgba(128, 128, 96, .25)'\n  },\n\n  Toolbar: {\n    color: 'inherit',\n    backgroundColor: '#fff',\n    borderBottom: `1px solid rgba(0, 0, 0, ${1/8})`\n  },\n\n  Button: augment(augment({\n    fontSize: 12\n  },sans),caps),\n  ButtonOutline: augment(augment({\n    fontSize: 12\n  },sans),caps),\n  NavItem: augment(augment({\n    fontSize: 12\n  },sans),caps),\n  PanelHeader: augment({\n  },sans),\n  Label: augment(augment({\n    fontSize: 12,\n    opacity: 5/8\n  },sans),caps),\n  SequenceMap: augment(augment({\n    fontSize: 12\n  },sans),caps),\n  Donut: augment({\n  },sans),\n  Stat: augment({\n  },sans),\n  Breadcrumbs: augment({\n    color: '#e54',\n  },sans),\n\n  PageHeader: {\n    borderColor: '#e54',\n  },\n  SectionHeader: {\n    borderColor: '#e54',\n  },\n\n}\n\nmodule.exports = biblio\n\n","\n'use strict'\n\nmodule.exports=  class BaseController extends Chaplin.Controller\n","BaseController = require  'controllers/base/controller'\n\n'use strict'\n\nmodule.exports = class FooterController extends BaseController\n","PageController =  require 'controllers/page'\nlog = require 'loglevel'\n\n'use strict'\n\nmodule.exports =  class HomeController extends PageController\n    showit: () ->\n      return false\n\n    show: () ->\n      log.info 'HomeController:show'\n","BaseController = require 'controllers/base/controller'\n\n'use strict'\n\nmodule.exports = class MenuController extends BaseController\n","BaseController = require 'controllers/base/controller'\n\n'use strict'\n\n\nmodule.exports = class PageController extends BaseController\n\n  beforeAction: (actionParams, controllerOptions) ->\n    Chaplin.mediator.controllerAction = controllerOptions.action\n    Chaplin.mediator.actionParams = actionParams\n","#\n#routes = require 'routes'\nwindow.$= jQuery\nwindow._ = require 'lodash'\nBackbone = require 'backbone'\n\nMithril = require 'mithril'\n#Mui = require 'mui'\n#  Mss = require 'mss-js'\nHalvalla = require 'halvalla/lib/halvalla-mithril.js'\nPalx = require 'palx'\nUtils = require './lib/utils'\nUnderscore = require 'underscore'\n\nPylonTemplate = Backbone.Model.extend\n  Mithril: Mithril\n  Halvalla: Halvalla\n  Palx: Palx\n  Utils: Utils\n  Underscore: Underscore\n  Backbone: Backbone\n\nwindow.Pylon = Pylon = new PylonTemplate()\nwindow._$_ = Pylon\n\nPylon.Button = require './components/button' # Pylon is assumed to be a global for this guy\n\nPylon.on 'all', (event,rest...)->\n  mim = event.match /((.*):.*):/\n  return null if !mim || mim[2] != 'systemEvent'\n  applogger \"event #{event}\"\n  Pylon.trigger mim[1],event,rest\n  Pylon.trigger mim[2],event,rest\n  return null\n\ntry\n  FontFaceObserver = require 'font-face-observer'\n  T = Pylon.Halvalla\n  Mithril = Pylon.Mithril\n  #Storybar = require './components/storybar-view'\n  #Fibonacci = require './components/fibonacci'\n  routes = require './routes'\n  #Palx = Pylon.Palx\n  Sidebar = require './components/sidebar-view'\ncatch dingodog\n  alert dingodog\n#newColors = Palx document.styling.palx\n#newColors.black= document.styling.black\n#newColors.white= document.styling.white\n\n# gather the global JSONs into Backbone collections \ntry\n  {myStories,allStories} = require './models/stories.coffee'\ncatch badDog\n  alert badDog\n\n# Initialize the application on DOM ready event.\n$ ->\n  mine =\n    collection: myStories\n    filter: (story)-> 'draft' != story.get 'category'\n    \n  theirs =\n    collection: allStories\n    filter: (story)-> 'draft' != story.get 'category'\n\n  try\n    realNode = document.getElementById('sidebar')\n    sidebarContents = Sidebar mine\n    Mithril.render realNode, sidebarContents\n  catch badDog\n    alert badDog\n  \n  divs= $('.siteInvitation')\n  divs.each (key,div)->\n    Mithril.render div, Storybar theirs\n  bloviation = document.getElementById 'fibonacci'\n  Mithril.render bloviation, Fibonacci 1,2,3,4,5,6 if bloviation\n  \n","T = Pylon.Halvalla\nB = require 'backbone'\n{  Panel, PanelHeader, Link } = Pylon.Rebass\n###  \nPanel = T.bless Panel\nLink = T.bless Link\nPanelHeader = T.bless PanelHeader\n\nmodule.exports.holyGrail = T.bless class HolyGrail extends React.Component\n\n    \n  render: ()=>\n    options = _.pluck @props, 'user','navLinks','story','page'\n    T.div '.o-grid.o-grid--full', ()->\n      @props.header '.o-grid__cell',options\n      T.div '.o-grid__cell',->\n        T.div '.o-grid',->\n          @props.left\n        T.div '.o-grid__cell',->\n          @props.middle\n        T.div '.o-grid__cell',->\n          @props.right\n      @props.footer '.o-grid__cell',options\n        \n  \n\nmodule.exports.Panel =   class Panel extends B.Model\n  displayName: 'Panel'\n  constructor: (@props)->\n    @\n  style: ()=>\n      overflow: 'hidden'\n      borderRadius: px @props.theme.radius\n      borderWidth: px 1\n      borderStyle: 'solid'\n  view: ()=>\n      T.div style: @style @props.style,children: @props.children\n      \nmodule.exports.PanelHeader =   class PanelHeader extends B.Model\n  displayName: 'PanelHeader'\n  constructor: (@vnode)->\n    @props= f:2, p:2\n    console.log \"PanelHeader constructor\",@vnode\n    @\n    \n  style: (props)=>\n    fontWeight: bold(props),\n    borderBottomWidth: px(1),\n    borderBottomStyle: 'solid',\n  view: ()->\n      T.crel 'Header', style: @style @vode.style\n      \n###","#\n# utilities\n#\nPylon=window.Pylon\n\n  # Add additional application-specific properties and methods\nmodule.exports = new class Utility\n\n    # String helpers\n    # --------------\n\n    # camel-case-helper > camelCaseHelper\n    camelize: do ->\n      regexp = /[-_]([a-z])/g\n      camelizer = (match, c) ->\n        c.toUpperCase()\n      (string) ->\n        string.replace regexp, camelizer\n\n    # dashHelper -> dash-helper\n    dasherize: (string) ->\n      string.replace /[A-Z]/g, (char, index) ->\n        (if index isnt 0 then '-' else '') + char.toLowerCase()\n\n    # Persistent data storage\n    # -----------------------\n\n    # sessionStorage with session cookie fallback\n    # sessionStorage(key) gets the value for 'key'\n    # sessionStorage(key, value) set the value for 'key'\n    sessionStorage: do ->\n      if window.sessionStorage and sessionStorage.getItem and\n      sessionStorage.setItem and sessionStorage.removeItem\n        (key, value) ->\n          if typeof value is 'undefined'\n            value = sessionStorage.getItem(key)\n            if value? and value.toString then value.toString() else value\n          else\n            sessionStorage.setItem(key, value)\n            value\n      else\n        (key, value) ->\n          if typeof value is 'undefined'\n            utils.getCookie(key)\n          else\n            utils.setCookie(key, value)\n            value\n\n    # sessionStorageRemove(key) removes the storage entry for 'key'\n    sessionStorageRemove: do ->\n      if window.sessionStorage and sessionStorage.getItem and\n      sessionStorage.setItem and sessionStorage.removeItem\n        (key) -> sessionStorage.removeItem(key)\n      else\n        (key) -> utils.expireCookie(key)\n\n    # Cookie fallback\n    # ---------------\n\n    # Get a cookie by its name\n    getCookie: (key) ->\n      pairs = document.cookie.split('; ')\n      for pair in pairs\n        val = pair.split('=')\n        if decodeURIComponent(val[0]) is key\n          return decodeURIComponent(val[1] or '')\n      null\n\n    # Set a session cookie\n\n    setCookie: (key, value, options = {}) ->\n      payload = \"#{encodeURIComponent(key)}=#{encodeURIComponent(value)}\"\n      getOption = (name) ->\n        if options[name] then \"; #{name}=#{options[name]}\" else ''\n\n      expires = if options.expires\n        \"; expires=#{options.expires.toUTCString()}\"\n      else\n        ''\n\n      document.cookie = [\n        payload, expires,\n        (getOption 'path'), (getOption 'domain'), (getOption 'secure')\n      ].join('')\n\n    expireCookie: (key) ->\n      document.cookie = \"#{key}=nil; expires=#{(new Date).toGMTString()}\"\n\n    # Load additonal JavaScripts\n    # --------------------------\n\n    # We dont use jQuery here because jQuery does not attach an error\n    # handler to the script. In jQuery, a proper error handler only works\n    # for same-origin scripts which can be loaded via XHR.\n    loadLib: (url, success, error, timeout = 7500) ->\n      head = document.head or document.getElementsByTagName('head')[0] or\n        document.documentElement\n      script = document.createElement 'script'\n      script.async = 'async'\n      script.src   = url\n\n      onload = (_, aborted = false) ->\n        return unless (aborted or\n        not script.readyState or script.readyState is 'complete')\n\n        clearTimeout timeoutHandle\n\n        # Handle memory leak in IE\n        script.onload = script.onreadystatechange = script.onerror = null\n        # Remove the script elem and its reference\n        head.removeChild(script) if head and script.parentNode\n        script = undefined\n\n        success() if success and not aborted\n\n      script.onload = script.onreadystatechange = onload\n\n      # This is what jQuery is missing\n      script.onerror = ->\n        onload null, true\n        error() if error\n\n      timeoutHandle = setTimeout script.onerror, timeout\n      head.insertBefore script, head.firstChild\n\n    # Functional helpers for handling asynchronous dependancies and I/O\n    # -----------------------------------------------------------------\n\n    # Wrap methods so they can be called before a deferred is resolved.\n    # The actual methods are called once the deferred is resolved.\n    #\n    # Parameters:\n    #\n    # Expects an options hash with the following properties:\n    #\n    # deferred\n    #   The Deferred object to wait for.\n    #\n    # methods\n    #   Either:\n    #   - A string with a method name e.g. 'method'\n    #   - An array of strings e.g. ['method1', 'method2']\n    #   - An object with methods e.g. {method: -> alert('resolved!')}\n    #\n    # host (optional)\n    #   If you pass an array of strings in the `methods` parameter the methods\n    #   are fetched from this object. Defaults to `deferred`.\n    #\n    # target (optional)\n    #   The target object the new wrapper methods are created at.\n    #   Defaults to host if host is given, otherwise it defaults to deferred.\n    #\n    # onDeferral (optional)\n    #   An additional callback function which is invoked when the method is called\n    #   and the Deferred isn't resolved yet.\n    #   After the method is registered as a done handler on the Deferred,\n    #   this callback is invoked. This can be used to trigger the resolving\n    #   of the Deferred.\n    #\n    # Examples:\n    #\n    # deferMethods(deferred: def, methods: 'foo')\n    #   Wrap the method named foo of the given deferred def and\n    #   postpone all calls until the deferred is resolved.\n    #\n    # deferMethods(deferred: def, methods: def.specialMethods)\n    #   Read all methods from the hash def.specialMethods and\n    #   create wrapped methods with the same names at def.\n    #\n    # deferMethods(\n    #   deferred: def, methods: def.specialMethods, target: def.specialMethods\n    # )\n    #   Read all methods from the object def.specialMethods and\n    #   create wrapped methods at def.specialMethods,\n    #   overwriting the existing ones.\n    #\n    # deferMethods(deferred: def, host: obj, methods: ['foo', 'bar'])\n    #   Wrap the methods obj.foo and obj.bar so all calls to them are postponed\n    #   until def is resolved. obj.foo and obj.bar are overwritten\n    #   with their wrappers.\n    #\n    deferMethods: (options) ->\n      # Process options\n      deferred = options.deferred\n      methods = options.methods\n      host = options.host or deferred\n      target = options.target or host\n      onDeferral = options.onDeferral\n\n      # Hash with named functions\n      methodsHash = {}\n\n      if typeof methods is 'string'\n        # Transform a single method string into an object\n        methodsHash[methods] = host[methods]\n\n      else if methods.length and methods[0]\n        # Transform a method list into an object\n        for name in methods\n          func = host[name]\n          unless typeof func is 'function'\n            throw new TypeError \"utils.deferMethods: method #{name} not\nfound on host #{host}\"\n          methodsHash[name] = func\n\n      else\n        # Treat methods parameter as a hash, no transformation\n        methodsHash = methods\n\n      # Process the hash\n      for own name, func of methodsHash\n        # Ignore non-function properties\n        continue unless typeof func is 'function'\n        # Replace method with wrapper\n        target[name] = utils.createDeferredFunction(\n          deferred, func, target, onDeferral\n        )\n\n    # Creates a function which wraps `func` and defers calls to\n    # it until the given `deferred` is resolved. Pass an optional `context`\n    # to determine the this `this` binding of the original function.\n    # Defaults to `deferred`. The optional `onDeferral` function to after\n    # original function is registered as a done callback.\n    createDeferredFunction: (deferred, func, context = deferred, onDeferral) ->\n      # Return a wrapper function\n      ->\n        # Save the original arguments\n        args = arguments\n        if deferred.state() is 'resolved'\n          # Deferred already resolved, call func immediately\n          func.apply context, args\n        else\n          # Register a done handler\n          deferred.done ->\n            func.apply context, args\n          # Invoke the onDeferral callback\n          if typeof onDeferral is 'function'\n            onDeferral.apply context\n\n    # Accumulators\n    accumulator:\n      collectedData: {}\n      handles: {}\n      handlers: {}\n      successHandlers: {}\n      errorHandlers: {}\n      interval: 2000\n\n    # Turns methods into accumulators, collecting calls and sending\n    # them out in intervals\n    # obj\n    #   the object the methods are read from and written to\n    # methods\n    #   zero or more names (strings) of methods (object members) to be wrapped\n    wrapAccumulators: (obj, methods) ->\n      # Replace methods\n      for name in methods\n        func = obj[name]\n        unless typeof func is 'function'\n          throw new TypeError \"utils.wrapAccumulators: method #{name} not found\"\n        # Replace method\n        obj[name] = utils.createAccumulator name, obj[name], obj\n\n      # Bind to unload to synchronously flush accumulated remains\n      $(window).unload =>\n        handler(async: false) for name, handler of utils.accumulator.handlers\n\n    # Returns an accumulator for the given 'func' with the\n    # parameter list (data, success, error, options)\n    createAccumulator: (name, func, context) ->\n      # Create a unique ID for the function, save it as a\n      # property of the function object\n      unless id = func.__uniqueID\n        id = func.__uniqueID = name + String(Math.random()).replace('.', '')\n\n      acc = utils.accumulator\n\n      # Cleanup data\n      cleanup = ->\n        delete acc.collectedData[id]\n        delete acc.successHandlers[id]\n        delete acc.errorHandlers[id]\n\n      # Create accumulated success and error callbacks\n\n      accumulatedSuccess = ->\n        handlers = acc.successHandlers[id]\n        handler.apply(this, arguments) for handler in handlers if handlers\n        cleanup()\n\n      accumulatedError = ->\n        handlers = acc.errorHandlers[id]\n        handler.apply(this, arguments) for handler in handlers if handlers\n        cleanup()\n\n      # Resulting function\n      (data, success, error, rest...) ->\n        # Store data, success and error handlers\n        if data\n          acc.collectedData[id] = (acc.collectedData[id] or []).concat(data)\n        if success\n          acc.successHandlers[id] = (\n            acc.successHandlers[id] or []\n          ).concat(success)\n        if error\n          acc.errorHandlers[id] = (acc.errorHandlers[id] or []).concat(error)\n\n        # Set timeout if not already set\n        return if acc.handles[id]\n\n        handler = (options = options) ->\n          return unless collectedData = acc.collectedData[id]\n          # Call the original function\n          args = [\n            collectedData, accumulatedSuccess, accumulatedError\n          ].concat(rest)\n          func.apply context, args\n          # Clear timeout\n          clearTimeout acc.handles[id]\n          # Remove handles and handlers\n          delete acc.handles[id]\n          delete acc.handlers[id]\n\n        # Save the handler\n        acc.handlers[id] = handler\n        # Wrap handler in additional function to ignore\n        # Firefox' latency arguments\n        acc.handles[id] = setTimeout (-> handler()), acc.interval\n\n    # Call the given function `func` when the global event `eventType` occurs.\n    # Defaults to 'login', so the `func` is called when\n    # the user has successfully logged in.\n    # When the function is called, `this` points to the given `context`.\n    # You may pass a `loginContext` for the UI context where\n    # the login was triggered.\n    afterLogin: (context, func, eventType = 'login', args...) ->\n      if mediator.user\n        # All fine, just pass through\n        func.apply context, args\n      else\n        # Register a handler for the given event\n        loginHandler = ->\n          # Cleanup\n          mediator.unsubscribe eventType, loginHandler\n          # Pass to wrapped function\n          func.apply context, args\n\n        mediator.subscribe eventType, loginHandler\n\n    deferMethodsUntilLogin: (obj, methods, eventType = 'login') ->\n      methods = [methods] if typeof methods is 'string'\n\n      for name in methods\n        func = obj[name]\n        unless typeof func is 'function'\n          throw new TypeError \"utils.deferMethodsUntilLogin: method #{name}\nnot found\"\n        obj[name] = _(utils.afterLogin).bind null, obj, func, eventType\n\n    # Delegates to afterLogin, but triggers the login dialog if the user\n    # isn't logged in\n    # and calls preventDefault if an event object is passed.\n    ensureLogin: (context, func, loginContext, eventType = 'login', args...) ->\n      utils.afterLogin context, func, eventType, args...\n\n      unless mediator.user\n        # If an event is passed to the original function, prevent the\n        # default action\n        if (e = args[0]) and typeof e.preventDefault is 'function'\n          e.preventDefault()\n\n        # Start login process\n        mediator.publish '!showLogin', loginContext\n\n    # Wrap methods which need a logged-in user.\n    # Trigger the login when they are called and there is no user.\n    # Arguments:\n    # `obj`: The object whose methods should be wrapped\n    # `methods`: A string or an array of strings with method names\n    # `loginContext`: object with login context information, should have\n    #                 a `description` property\n    # `eventType`: The global PubSub event the actual method call will wait for.\n    #              Defaults to 'login'.\n    ensureLoginForMethods: (obj, methods, loginContext, eventType = 'login') ->\n      # Transform a single method string into a list\n      methods = [methods] if typeof methods is 'string'\n\n      for name in methods\n        func = obj[name]\n        unless typeof func is 'function'\n          throw new TypeError \"utils.ensureLoginForMethods: method #{name}\nnot found\"\n        obj[name] = _(utils.ensureLogin).bind(\n          null, obj, func, loginContext, eventType\n        )\n\n\n    # Facebook image helper\n    # ---------------------\n\n    facebookImageURL: (fbId, type = 'square') ->\n      # Create query string\n      params = type: type\n\n      # Add the Facebook access token if present\n      if mediator.user\n        accessToken = mediator.user.get('accessToken')\n        params.access_token = accessToken if accessToken\n\n      \"https://graph.facebook.com/#{fbId}/picture?#{$.param(params)}\"\n\n","Backbone = require 'backbone'\nmodule.exports =  class Collection extends Backbone.Collection.extend {state:{}}\n    # Place your application-specific collection features here\n","#\nBackbone = require 'backbone'\nmodule.exports = class Model extends Backbone.Model.extend {state:{}}\n    # Place your application-specific model features here\n","\n  Model = require '../models/base/model.coffee'\n\n  'use strict'\n\n  module.exports = class Navigation extends Model\n\n    defaults:\n      items: [\n        {href: '/', title: 'Likes Browser'}\n        {href: '/posts', title: 'Wall Posts'}\n      ]\n","#allStories is global, as is myStories\nCollection = require '../models/base/collection.coffee',\nStory = require '../models/story.coffee'\n \nclass Stories extends Collection\n  model: Story\n\n  initialize: (@someStories)->\n    super()\n    #@subscribeEvent 'login', @fetch\n    #@subscribeEvent 'logout', @logout\n    @fetch()\n\n  fetch: =>\n    @push @someStories\n\nmodule.exports =\n  allStories: new Stories allStories\n  myStories: new Stories myStories\n  Class: Stories\n","\n  Model = require '../models/base/model.coffee'\n\n  'use strict'\n\n  module.exports = class Story extends Model\n    href: (against = false)=>\n      ref = \"#{@get 'category'}/#{@get 'slug'}.html\"\n      ref = ref.replace /\\ /g,'_'\n      if !against || against == window.siteHandle\n        return ref\n      return  \"#{against}/#{ref}\" if against.match '/'\n      \n    initialize: () ->\n      super()\n","\n  Model = require '../models/base/model.coffee'\n  'use strict'\n\n  module.exports = class User extends Model\n    # This model is intentionally left blank\n","'use strict'\n\nroutes = (match) ->\n  match '/', 'home#show'\n  match 'showit', 'sidebar#showit'\n\nmodule.exports = routes\n","(function($){\n  // Search\n  var $searchWrap = $('#search-form-wrap'),\n    isSearchAnim = false,\n    searchAnimDuration = 200;\n\n  var startSearchAnim = function(){\n    isSearchAnim = true;\n  };\n\n  var stopSearchAnim = function(callback){\n    setTimeout(function(){\n      isSearchAnim = false;\n      callback && callback();\n    }, searchAnimDuration);\n  };\n\n  $('#nav-search-btn').on('click', function(){\n    if (isSearchAnim) return;\n\n    startSearchAnim();\n    $searchWrap.addClass('on');\n    stopSearchAnim(function(){\n      $('.search-form-input').focus();\n    });\n  });\n\n  $('.search-form-input').on('blur', function(){\n    startSearchAnim();\n    $searchWrap.removeClass('on');\n    stopSearchAnim();\n  });\n\n  // Share\n  $('body').on('click', function(){\n    $('.article-share-box.on').removeClass('on');\n  }).on('click', '.article-share-link', function(e){\n    e.stopPropagation();\n\n    var $this = $(this),\n      url = $this.attr('data-url'),\n      encodedUrl = encodeURIComponent(url),\n      id = 'article-share-box-' + $this.attr('data-id'),\n      offset = $this.offset();\n\n    if ($('#' + id).length){\n      var box = $('#' + id);\n\n      if (box.hasClass('on')){\n        box.removeClass('on');\n        return;\n      }\n    } else {\n      var html = [\n        '<div id=\"' + id + '\" class=\"article-share-box\">',\n          '<input class=\"article-share-input\" value=\"' + url + '\">',\n          '<div class=\"article-share-links\">',\n            '<a href=\"https://twitter.com/intent/tweet?url=' + encodedUrl + '\" class=\"article-share-twitter\" target=\"_blank\" title=\"Twitter\"></a>',\n            '<a href=\"https://www.facebook.com/sharer.php?u=' + encodedUrl + '\" class=\"article-share-facebook\" target=\"_blank\" title=\"Facebook\"></a>',\n            '<a href=\"http://pinterest.com/pin/create/button/?url=' + encodedUrl + '\" class=\"article-share-pinterest\" target=\"_blank\" title=\"Pinterest\"></a>',\n            '<a href=\"https://plus.google.com/share?url=' + encodedUrl + '\" class=\"article-share-google\" target=\"_blank\" title=\"Google+\"></a>',\n          '</div>',\n        '</div>'\n      ].join('');\n\n      var box = $(html);\n\n      $('body').append(box);\n    }\n\n    $('.article-share-box.on').hide();\n\n    box.css({\n      top: offset.top + 25,\n      left: offset.left\n    }).addClass('on');\n  }).on('click', '.article-share-box', function(e){\n    e.stopPropagation();\n  }).on('click', '.article-share-box-input', function(){\n    $(this).select();\n  }).on('click', '.article-share-box-link', function(e){\n    e.preventDefault();\n    e.stopPropagation();\n\n    window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');\n  });\n\n  // Caption\n  $('.article-entry').each(function(i){\n    $(this).find('img').each(function(){\n      if ($(this).parent().hasClass('fancybox')) return;\n\n      var alt = this.alt;\n\n      if (alt) $(this).after('<span class=\"caption\">' + alt + '</span>');\n\n      $(this).wrap('<a href=\"' + this.src + '\" title=\"' + alt + '\" class=\"fancybox\"></a>');\n    });\n\n    $(this).find('.fancybox').each(function(){\n      $(this).attr('rel', 'article' + i);\n    });\n  });\n\n  if ($.fancybox){\n    $('.fancybox').fancybox();\n  }\n\n  // Mobile nav\n  var $container = $('#container'),\n    isMobileNavAnim = false,\n    mobileNavAnimDuration = 200;\n\n  var startMobileNavAnim = function(){\n    isMobileNavAnim = true;\n  };\n\n  var stopMobileNavAnim = function(){\n    setTimeout(function(){\n      isMobileNavAnim = false;\n    }, mobileNavAnimDuration);\n  }\n\n  $('#main-nav-toggle').on('click', function(){\n    if (isMobileNavAnim) return;\n\n    startMobileNavAnim();\n    $container.toggleClass('mobile-nav-on');\n    stopMobileNavAnim();\n  });\n\n  $('#wrap').on('click', function(){\n    if (isMobileNavAnim || !$container.hasClass('mobile-nav-on')) return;\n\n    $container.removeClass('mobile-nav-on');\n  });\n})(jQuery);","###\n#global Pylon\n###\n\nT= require \"halvalla\"\n#_=Pylon.Underscore\n\n\nbind = (fn, me)->\n  return ()->\n    return fn.apply(me, arguments)\n    \nallPosts = Pylon.allPosts || {}\n\n#myArchives = myStories\n#myGroups = _(myArchives).groupBy 'category'\nmodule.exports = Stjohnsjimlook = {\n  widgetWrap: ->\n    {attrs,contents} = T.normalizeArgs arguments\n    id = attrs.id\n    delete attrs.id\n    title = attrs.title\n    delete attrs.title\n    attrs.className = \"widget-wrap\"\n    T.div '.container.widget-wrap.p-2.my-1', attrs , ->\n      T.h3 '.widget-title',  title unless !title\n      T.div '.btn-group.btn-group-vertical.widget.my-2.p-2', ->contents\n}\n"]}